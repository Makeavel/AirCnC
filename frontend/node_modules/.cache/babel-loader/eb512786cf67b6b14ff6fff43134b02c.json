{"ast":null,"code":"import _slicedToArray from \"C:\\\\repositorio\\\\aircnc\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\repositorio\\\\aircnc\\\\frontend\\\\src\\\\pages\\\\New\\\\index.js\";\nimport React, { useState, useMemo } from 'react';\nimport api from '../../services/api';\nimport camera from \"../../assets/camera.svg\";\nimport './Styles.css';\nexport default function New({\n  history\n}) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        thumbnail = _useState2[0],\n        setThumbnail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        company = _useState4[0],\n        setCompany = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        techs = _useState6[0],\n        setTechs = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        price = _useState8[0],\n        setPrice = _useState8[1];\n\n  const preview = useMemo(() => {\n    return thumbnail ? URL.createObjectURL(thumbnail) : null;\n  }, [thumbnail]);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const data = new FormData();\n    const user_id = localStorage.getItem('user');\n    data.append('thumbnail', thumbnail);\n    data.append('company', company);\n    data.append('techs', techs);\n    data.append('price', price);\n    await api.post('/spots', data, {\n      headers: {\n        user_id\n      }\n    });\n    history.push('/dashboard');\n  }\n\n  return React.createElement(\"form\", {\n    OnSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    id: \"thumbnail\",\n    style: {\n      backgroundImage: `url(${preview})`\n    },\n    className: thumbnail ? 'has-thumbnail' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    onChange: event => setThumbnail(event.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: camera,\n    alt: \"Select img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: \"company\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"EMPRESA *\"), React.createElement(\"input\", {\n    id: \"company\",\n    placeholder: \"Sua empresa\",\n    value: company,\n    onChange: event => setCompany(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"techs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"TECNOLOGIAS * \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"(separadas por v\\xEDrgula)\")), React.createElement(\"input\", {\n    id: \"techs\",\n    placeholder: \"Quais tecnologias usam?\",\n    value: techs,\n    onChange: event => setTechs(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"price\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"VALOR DA DI\\xC1RIA *\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"(em branco para Gratuito)\")), React.createElement(\"input\", {\n    id: \"price\",\n    placeholder: \"Valor da di\\xE1ria?\",\n    value: price,\n    onChange: event => setPrice(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    class: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Cadastrar\"));\n}","map":{"version":3,"sources":["C:/repositorio/aircnc/frontend/src/pages/New/index.js"],"names":["React","useState","useMemo","api","New","history","thumbnail","setThumbnail","company","setCompany","techs","setTechs","price","setPrice","preview","URL","createObjectURL","handleSubmit","event","preventDefault","data","FormData","user_id","localStorage","getItem","append","post","headers","push","backgroundImage","target","files","camera","value"],"mappings":"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","sourcesContent":["import React , { useState , useMemo }from 'react';\r\nimport api from '../../services/api';\r\nimport camera from '../../assets/camera.svg'; \r\nimport './Styles.css';\r\n\r\nexport default function New({history} ){\r\n    const [thumbnail , setThumbnail] = useState(null);\r\n    const [company , setCompany ] = useState('');\r\n    const [techs , setTechs ] = useState('');\r\n    const [price , setPrice ] = useState('');\r\n    \r\n\r\n    const preview = useMemo( ( ) => {\r\n        return  thumbnail ? URL.createObjectURL(thumbnail) : null;\r\n    }, [thumbnail] )\r\n\r\n    async function handleSubmit(event ){\r\n        event.preventDefault();\r\n\r\n        const data = new FormData();\r\n        const user_id = localStorage.getItem('user');\r\n\r\n        data.append('thumbnail' , thumbnail);\r\n        data.append('company' , company);\r\n        data.append('techs', techs );\r\n        data.append('price', price);\r\n        \r\n        await api.post('/spots', data ,{ \r\n            headers: { user_id }\r\n        })\r\n    \r\n        history.push('/dashboard');\r\n    }\r\n\r\n    return  (\r\n        <form OnSubmit = {handleSubmit}>\r\n            <label id = \"thumbnail\" \r\n                   style ={{backgroundImage : `url(${preview})`}}\r\n                   className = {thumbnail ? 'has-thumbnail' : '' }\r\n            >\r\n                <input type=\"file\" onChange = {event => setThumbnail(event.target.files[0])} />\r\n                <img src={camera} alt=\"Select img\"/>\r\n            </label>\r\n\r\n            <label htmlFor=\"company\">EMPRESA *</label>\r\n            <input\r\n                id = \"company\"\r\n                placeholder = \"Sua empresa\"\r\n                value={company}\r\n                onChange={ event=> setCompany(event.target.value)}\r\n            />\r\n\r\n            <label htmlFor=\"techs\">TECNOLOGIAS * <span>(separadas por vírgula)</span></label>\r\n            <input\r\n                id = \"techs\"\r\n                placeholder = \"Quais tecnologias usam?\"\r\n                value={techs}\r\n                onChange={ event=> setTechs(event.target.value)}\r\n            />\r\n\r\n            <label htmlFor=\"price\">VALOR DA DIÁRIA *<span>(em branco para Gratuito)</span></label>\r\n            <input\r\n                id = \"price\"\r\n                placeholder = \"Valor da diária?\"\r\n                value={price}\r\n                onChange={ event=> setPrice(event.target.value)}\r\n            />\r\n\r\n            <button type = \"submit\" class = 'btn' >Cadastrar</button>\r\n        </form>\r\n    )\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}